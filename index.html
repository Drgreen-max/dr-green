<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DR. GREEN - SUBS√çDIO OFICIAL</title>
    <style>
        body { background: #070f07; color: #00ff00; font-family: 'Segoe UI', Arial, sans-serif; text-align: center; padding: 10px; margin: 0; }
        .wheel-box { position: relative; width: 300px; height: 300px; margin: 20px auto; }
        #roletaVisual {
            width: 100%; height: 100%;
            border: 8px solid #d4af37;
            border-radius: 50%;
            background: conic-gradient(#000 0deg 60deg, #051a05 60deg 120deg, #000 120deg 180deg, #051a05 180deg 240deg, #000 240deg 300deg, #051a05 300deg 360deg);
            position: relative;
            transition: transform 4s cubic-bezier(0.1, 0, 0.2, 1);
            box-shadow: 0 0 30px #00ff00;
        }
        .v { position: absolute; width: 100%; text-align: center; top: 25px; font-weight: bold; font-size: 15px; transform-origin: 50% 125px; color: #00ff00; }
        /* Fatias alinhadas com o c√≥digo de rota√ß√£o */
        .v1 { transform: rotate(30deg); }  .v2 { transform: rotate(90deg); }  .v3 { transform: rotate(150deg); } 
        .v4 { transform: rotate(210deg); } .v5 { transform: rotate(270deg); } .v6 { transform: rotate(330deg); }
        .ponteiro { width: 0; height: 0; border-left: 15px solid transparent; border-right: 15px solid transparent; border-top: 30px solid #d4af37; position: absolute; top: -15px; left: 50%; transform: translateX(-50%); z-index: 20; }
        .btn { display: block; width: 90%; max-width: 320px; margin: 15px auto; padding: 20px; border: none; border-radius: 12px; font-weight: bold; font-size: 20px; cursor: pointer; text-decoration: none; transition: 0.3s; }
        #btnGirar { background: #00ff00; color: #000; box-shadow: 0 5px 0 #008000; }
        #btnPagar { background: #d4af37; color: #000; display: none; box-shadow: 0 5px 0 #8b7500; }
        #timer { color: #ff0000; font-weight: bold; font-size: 22px; margin-top: 15px; display: none; padding: 10px; border: 1px solid #ff0000; }
        #status { margin-top: 15px; font-size: 18px; color: #fff; min-height: 60px; font-weight: bold; }
    </style>
</head>
<body>
    <h2 style="color:#d4af37; margin-bottom: 5px;">DR. GREEN - VIP</h2>
    <div class="wheel-box">
        <div class="ponteiro"></div>
        <div id="roletaVisual">
            <div class="v v1">R$ 5,99</div>
            <div class="v v2">R$ 20,00</div>
            <div class="v v3">7 DIAS GR√ÅTIS</div>
            <div class="v v4">R$ 11,99</div>
            <div class="v v5">R$ 1,99</div>
            <div class="v v6">R$ 49,90</div>
        </div>
    </div>
    <div id="status">Inicie a an√°lise para liberar o acesso VIP.</div>
    <div id="timer">OFERTA EXPIRA EM: <span id="time">60:00</span></div>
    <button id="btnGirar" class="btn" onclick="girarAgora()">GIRAR ROLETA</button>
    <a id="btnPagar" class="btn" target="_blank" href="#">PAGAR AGORA</a>

    <script>
        // Mem√≥ria de tentativas (Doutor Pedro - Porto Alegre)
        let tentativa = parseInt(localStorage.getItem('drGreenTentativa')) || 1;
        let rotacaoAcumulada = 0;
        let timerAtivo = false;

        const fatias = [
            { id: 0, grau: 30,  valor: "R$ 5,99", link: "https://mpago.la/2Y7qeoE" },
            { id: 1, grau: 90,  valor: "R$ 20,00", link: "https://mpago.la/2tAocK1" },
            { id: 2, grau: 150, valor: "7 DIAS GR√ÅTIS", link: "https://t.me/+wqdX9sTFCFNiNzVh" },
            { id: 3, grau: 210, valor: "R$ 11,99", link: "https://mpago.la/16RHNgJ" },
            { id: 4, grau: 270, valor: "R$ 1,99", link: "https://mpago.la/1pT7xQa" },
            { id: 5, grau: 330, valor: "R$ 49,90", link: "https://mpago.la/2EJGaVf" }
        ];

        window.onload = function() {
            if (tentativa > 3) {
                document.getElementById("btnGirar").style.display = "none";
                document.getElementById("status").innerText = "Sua an√°lise t√©cnica j√° foi conclu√≠da.";
            }
        };

        function iniciarTimer() {
            if (timerAtivo) return;
            document.getElementById("timer").style.display = "block";
            let tempo = 3600, min, seg;
            setInterval(() => {
                min = parseInt(tempo / 60, 10); seg = parseInt(tempo % 60, 10);
                document.getElementById("time").textContent = (min<10?"0":"")+min+":"+(seg<10?"0":"")+seg;
                if (--tempo < 0) tempo = 0;
            }, 1000);
            timerAtivo = true;
        }

        function girarAgora() {
            if (tentativa > 3) return;
            iniciarTimer();
            
            const roleta = document.getElementById("roletaVisual");
            const btn = document.getElementById("btnGirar");
            const status = document.getElementById("status");
            const pagar = document.getElementById("btnPagar");

            // Sorteio Sincronizado
            let sorteioIndex = Math.floor(Math.random() * 6);
            if (tentativa === 3) {
                // No √∫ltimo giro, aumenta a chance de pr√™mios que convertem mais (R$ 1,99 ou 7 dias)
                let p = Math.random();
                sorteioIndex = (p < 0.5) ? 4 : (p < 0.8 ? 2 : 0); 
            }

            const escolhido = fatias[sorteioIndex];
            
            // C√°lculo Milim√©trico
            rotacaoAcumulada += 1800 + (360 - (rotacaoAcumulada % 360)) - escolhido.grau;
            roleta.style.transform = `rotate(${rotacaoAcumulada}deg)`;
            
            btn.disabled = true;
            btn.innerText = "SORTEANDO...";
            pagar.style.display = "none";

            setTimeout(() => {
                localStorage.setItem('drGreenTentativa', ++tentativa);
                
                if (escolhido.valor === "7 DIAS GR√ÅTIS") {
                    status.innerHTML = "üî• <span style='color:#d4af37'>7 DIAS GR√ÅTIS LIBERADOS!</span><br>Redirecionando para o Canal VIP...";
                    btn.style.display = "none";
                    setTimeout(() => { window.location.href = escolhido.link; }, 2500);
                } else {
                    status.innerText = "‚úÖ SUBS√çDIO ENCONTRADO: " + escolhido.valor;
                    pagar.style.display = "block";
                    pagar.innerText = "ENTRAR NO VIP POR " + escolhido.valor;
                    pagar.href = escolhido.link;
                    
                    if (tentativa > 3) {
                        btn.style.display = "none";
                        status.innerText += " (√öltima chance liberada!)";
                    } else {
                        btn.disabled = false;
                        btn.innerText = "TENTAR NOVO SUBS√çDIO (" + (4 - tentativa) + ")";
                    }
                }
            }, 4000);
        }
    </script>
</body>
</html>
